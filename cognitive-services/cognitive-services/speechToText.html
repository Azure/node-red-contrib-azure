<script type="text/javascript">
    RED.nodes.registerType('Speech To Text', {
        category: 'Microsoft Cognitive Services',
        color: '#049580',
        defaults: {
            name: {value:""},
            userAgent: {value:"Linux OS"},
			locale: {value:"en-US"}
        },
        credentials: {
           key: {
               type: "password"
            }
        },
        inputs:1,
        outputs:1,
        icon: "speech.png",
        label: function() {
            return this.name||"Speech To Text";
        }
    });
</script>

<script type="text/x-red" data-template-name="Speech To Text">
    <div class="form-row">
        <label for="node-input-key"><i class="icon-tag"></i> Subscription (<a href="https://www.microsoft.com/cognitive-services" target="_blank">Get key</a>)</label>
        <input type="password" id="node-input-key" placeholder="Paste subscription key of West US region">
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="icon-tag"></i> Name (Optional)</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div class="form-row">
        <label for="node-input-userAgent"><i class="icon-tag"></i> User Agent</label>
        <input type="text" id="node-input-userAgent" placeholder="UserAgent">
    </div>
    <div class="form-row">
        <label for="node-input-locale"><i class="icon-tag"></i> Locale</label>
        <select id="node-input-locale" placeholder="Locale">
			<option value="ar-EG">ar-EG</option>
			<option value="ca-ES">ca-ES</option>
			<option value="da-DK">da-DK</option>
			<option value="de-DE">de-DE</option>
			<option value="en-AU">en-AU</option>
			<option value="en-CA">en-CA</option>
			<option value="en-GB">en-GB</option>
			<option value="en-IN">en-IN</option>
			<option value="en-NZ">en-NZ</option>
			<option value="en-US">en-US</option>
			<option value="es-ES">es-ES</option>
			<option value="es-MX">es-MX</option>
			<option value="fi-FI">fi-FI</option>
			<option value="fr-CA">fr-CA</option>
			<option value="fr-FR">fr-FR</option>
			<option value="hi-IN">hi-IN</option>
			<option value="it-IT">it-IT</option>
			<option value="ja-JP">ja-JP</option>
			<option value="ko-KR">ko-KR</option>
			<option value="nb-NO">nb-NO</option>
			<option value="nl-NL">nl-N</option>
			<option value="pl-PL">pl-PL</option>
			<option value="pt-BR">pt-BR</option>
			<option value="pt-PT">pt-PT</option>
			<option value="ru-RU">ru-RU</option>
			<option value="sv-SE">sv-SE</option>
			<option value="zh-CN">zh-CN</option>
			<option value="zh-HK">zh-HK</option>
			<option value="zh-TW">zh-TW</option>
		</select>
    </div>
</script>

<script type="text/x-red" data-help-name="Speech To Text">
    <p>Speech API in Microsoft Cognitive Services</p>
    <p>This API convert speech to text</p>
    <p><b>Speech to text</b>
        <ul>
            <li>Input(<code>msg.payload</code>): Readable stream or Buffer</li>
            <li>Output(<code>msg.payload</code>): Text</li>
            <li>Output(<code>msg.confidence</code>): Confidence result</li>
        </ul>
    </p>
</script>
